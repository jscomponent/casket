import{_ as u,c as a,a as e,F as g,r as h,w as d,v as n,o as i,t as p}from"./index-65dd2c8d.js";const v={inject:["io","user"],methods:{save(l,o){this.io.service("settings").patch(l,{value:o}).then(r=>{this.get()}).catch(r=>{this.get()})},get(){this.settings.forEach(l=>{this.io.service("settings").get(l.key).then(o=>{l.value=o})})},encode(){this.googleJSONkeyEncoded=window.btoa(this.googleJSONkey)}},created(){this.get()},computed:{users(){var l;return((l=this.response)==null?void 0:l.data)||[]}},data:()=>({googleJSONkey:"",googleJSONkeyEncoded:"",settings:[{key:"lang",value:"",label:"Languages"},{key:"google-secret",value:"",label:"Google Secret"},{key:"google-folder",value:"",label:"Google Folder"},{key:"backup-interval",value:"",label:"Backup interval"}]})},k={class:"p-6"},y={class:""},b=e("div",{class:"p-2"},[e("h2",{class:"text-4xl"}," Settings ")],-1),_={class:"w-full text-right p-2"},m={class:"flex bg-slate-100 text-slate-600 p-3 rounded shadow m-2"},f={class:"w-1/2"},w={class:"p-2 inline-block font-bold"},S={class:"w-1/2 text-right"},x=["onUpdate:modelValue"],N=["onClick"],O={class:"p-2"},J=e("h3",{class:"font-bold text-xl mt-4"}," Enable Google Drive Auto Backup ",-1),E=e("ul",{class:"list-decimal list-inside p-4"},[e("li",null,[e("a",{href:"https://developers.google.com/workspace/guides/create-project",target:"_blank"}," Create a project and enable the API ")]),e("li",null," Enable Google Drive API "),e("li",null," Create Service account credential "),e("li",null," Open service account and create new Key in JSON format "),e("li",null," Encode using this tool ")],-1),C=e("ul",{class:"list-decimal list-inside p-4"},[e("li",{class:""}," Store as google secret "),e("li",null," Find a folder in google drive and share it with a service account user "),e("li",null," Copy the folder id and paste it into the Google Folder input field ")],-1);function G(l,o,r,B,F,s){return i(),a("div",k,[e("div",y,[b,e("div",_,[e("button",{type:"",onClick:o[0]||(o[0]=t=>s.get()),class:"bg-sky-500 hover:bg-sky-600 text-sky-50 p-2 rounded shadow"}," Refresh ")]),(i(!0),a(g,null,h(l.settings,t=>(i(),a("div",m,[e("div",f,[e("span",w,p(t.label),1)]),e("div",S,[d(e("input",{placeholder:"password","onUpdate:modelValue":c=>t.value=c,class:"mr-4 p-2 rounded shadow"},null,8,x),[[n,t.value]]),e("button",{type:"",onClick:c=>s.save(t.key,t.value),class:"bg-emerald-300 hover:bg-emerald-400 p-2 rounded text-emerald-900 shadow"}," Save ",8,N)])]))),256)),e("div",O,[J,E,d(e("textarea",{placeholder:"Google JSON key","onUpdate:modelValue":o[1]||(o[1]=t=>l.googleJSONkey=t),class:"w-full p-4 bg-slate-100 rounded shadow"},null,512),[[n,l.googleJSONkey]]),e("button",{type:"",onClick:o[2]||(o[2]=(...t)=>s.encode&&s.encode(...t)),class:"bg-sky-500 hover:bg-sky-600 text-sky-50 p-2 rounded shadow my-2 w-full"}," Encode "),d(e("textarea",{placeholder:"Google JSON key encoded","onUpdate:modelValue":o[3]||(o[3]=t=>l.googleJSONkeyEncoded=t),class:"w-full p-4 bg-slate-100 rounded shadow"},null,512),[[n,l.googleJSONkeyEncoded]]),C])])])}const D=u(v,[["render",G]]);export{D as default};
