import{_ as F,c as r,a as s,t as p,b as l,w as n,v as d,F as y,r as f,d as K,o as g,e as T,p as O,f as q}from"./index-28c990da.js";const E={inject:["io","user"],methods:{async create(e){await this.io.service("users").create(e),this.clear(),this.list()},async list(){let e=await this.io.service("users").find({query:{email:{$search:this.search},$limit:this.limit,$skip:(this.page-1)*this.limit,$sort:{createdAt:-1}}});this.response=e},async save(e){let t=Object.assign({},e);if(t.password||delete t.password,t.password&&t.password.length<6){alert("Too short password!");return}let v=await this.io.service("users").patch(t._id,t);Object.assign(e,v)},async remove(e){await this.io.service("users").remove(e._id),this.list()},clear(){this.email="",this.owner_group="",this.password="",this.locale="",this.permissions=["user"]}},created(){this.list()},computed:{users(){var e;return((e=this.response)==null?void 0:e.data)||[]}},data:()=>({email:"",owner_group:"",password:"",locale:"",owner_group:"",permissions:["user"],response:null,search:"",limit:25,page:1})},b=e=>(O("data-v-3736975a"),e=e(),q(),e),H={style:{display:"flex",height:"100%","font-family":"Arial, Helvetica, sans-serif"}},L={style:{width:"100%","flex-grow":"1",flex:"1",height:"100%",overflow:"auto","background-color":"#edebebff"},class:"editor"},G=b(()=>s("div",{style:{"margin-left":"20px","margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[s("h2",{style:{color:"#2b2b2bff","font-weight":"100","font-size":"35px"}}," Users ")],-1)),J={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"15px","padding-bottom":"15px","margin-left":"20px","margin-right":"20px","background-color":"#86a0b3ff",position:"relative","text-align":"center","margin-top":"10px","border-top-left-radius":"3px","border-top-right-radius":"3px"}},Q=["disabled"],W={style:{color:"#38454dff"}},X=["disabled"],Y={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","border-bottom-left-radius":"3px","border-bottom-right-radius":"3px","background-color":"#86a0b3ff","margin-bottom":"10px"},class:"row"},Z={style:{display:"inline-block"}},ee=b(()=>s("input",{placeholder:"ID",readonly:"readonly"},null,-1)),oe={style:{display:"inline-block"}},se={style:{"margin-right":"6px","margin-left":"5px"}},te=["onClick","disabled"],ie=["onUpdate:modelValue"],le=b(()=>s("input",{placeholder:"Updated",readonly:"readonly"},null,-1)),ae=b(()=>s("input",{placeholder:"Created",readonly:"readonly"},null,-1)),ne={style:{display:"inline-block",float:"right"}},de={style:{"box-sizing":"border-box","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","background-color":"#87acccff","border-top-left-radius":"3px","border-top-right-radius":"3px"},class:"row"},pe={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","margin-top":"0px","margin-bottom":"0px",position:"relative"},class:"row"},re={style:{display:"inline-block",float:"right"}},ge=["onClick","disabled"],me=["onClick"],he={style:{display:"inline-block"}},ue=["onUpdate:modelValue"],be=["onUpdate:modelValue"],ce=["onUpdate:modelValue"],ye={style:{display:"inline-block"}},fe={style:{"margin-right":"6px","margin-left":"5px"}},ve=["onClick","disabled"],we=["onUpdate:modelValue"],xe=["onClick"],_e=["onUpdate:modelValue"],ke=["onUpdate:modelValue"],Ue=["onUpdate:modelValue"],Ve=["onUpdate:modelValue"],Ce={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","margin-top":"10px","margin-bottom":"20px","border-top-left-radius":"3px","border-top-right-radius":"3px","border-bottom-left-radius":"3px","border-bottom-right-radius":"3px","background-color":"#86a0b3ff",position:"relative","text-align":"center"}},Ae=["disabled"],ze={style:{color:"#38454dff"}},Ie=["disabled"];function Se(e,t,v,Me,Ne,a){var w,x,_,k,U,V,C,A,z,I,S,M,N,$,D,P,j,B;return g(),r("div",H,[s("div",L,[G,s("div",null,[s("div",J,[s("button",{type:"",onClick:t[0]||(t[0]=o=>(e.page--,a.list())),style:{float:"left","margin-top":"-5px"},class:"dark",disabled:e.page<=1}," Previous page ",8,Q),s("span",W," Page "+p(e.page)+" of "+p(Math.ceil(((w=e.response)==null?void 0:w.total)/((x=e.response)==null?void 0:x.limit)))+" ("+p((_=e.response)==null?void 0:_.skip)+" - "+p(((k=e.response)==null?void 0:k.skip)+((V=(U=e.response)==null?void 0:U.data)==null?void 0:V.length))+" of "+p((C=e.response)==null?void 0:C.total)+") ",1),s("button",{type:"",onClick:t[1]||(t[1]=o=>(e.page++,a.list())),style:{float:"right","margin-top":"-5px"},class:"dark",disabled:e.page>=Math.ceil(((A=e.response)==null?void 0:A.total)/((z=e.response)==null?void 0:z.limit))}," Next page ",8,X)]),s("div",Y,[s("div",Z,[ee,l(),n(s("input",{placeholder:"email","onUpdate:modelValue":t[2]||(t[2]=o=>e.email=o)},null,512),[[d,e.email]]),l(),n(s("input",{placeholder:"password","onUpdate:modelValue":t[3]||(t[3]=o=>e.password=o),type:"password"},null,512),[[d,e.password]]),s("div",oe,[(g(!0),r(y,null,f(e.permissions,(o,m)=>(g(),r("div",se,[s("button",{onClick:h=>e.permissions.splice(m,1),style:{display:"inline-block"},disabled:e.permissions.length<=1}," Remove ",8,te),l(),n(s("input",{placeholder:"permissions","onUpdate:modelValue":h=>e.permissions[m]=h,style:{"margin-right":"5px"}},null,8,ie),[[d,e.permissions[m]]]),!e.permissions.length||m===e.permissions.length-1?(g(),r("button",{key:0,onClick:t[4]||(t[4]=h=>e.permissions.push("")),style:{display:"inline-block"}}," Add ")):T("",!0)]))),256))]),l(),n(s("input",{placeholder:"locale","onUpdate:modelValue":t[5]||(t[5]=o=>e.locale=o)},null,512),[[d,e.locale]]),l(),n(s("input",{placeholder:"owner group","onUpdate:modelValue":t[6]||(t[6]=o=>e.owner_group=o)},null,512),[[d,e.owner_group]]),l(),le,l(),ae]),s("div",ne,[s("button",{onClick:t[7]||(t[7]=o=>a.create({email:e.email,password:e.password,locale:e.locale,permissions:e.permissions,owner_group:e.owner_group}))}," Create ")])]),s("div",de,[n(s("input",{style:{"margin-right":"5px",width:"calc(100% - 110px)","padding-top":"15px","padding-bottom":"15px"},"onUpdate:modelValue":t[8]||(t[8]=o=>e.search=o),placeholder:"search...",onKeydown:t[9]||(t[9]=K((...o)=>a.list&&a.list(...o),["enter"]))},null,544),[[d,e.search]]),l(),s("button",{onClick:t[10]||(t[10]=(...o)=>a.list&&a.list(...o)),class:"dark",style:{"padding-top":"15px","padding-bottom":"15px",width:"100px"}}," Search ")]),(g(!0),r(y,null,f(a.users,o=>{var m,h,R;return g(),r("div",pe,[s("div",re,[s("button",{onClick:i=>a.remove(o),class:"red",style:{"margin-right":"2px"},disabled:((h=(m=a.user)==null?void 0:m.value)==null?void 0:h._id)===o._id||((R=a.user)==null?void 0:R._id)===o._id}," Remove ",8,ge),l(),s("button",{onClick:i=>a.save(o),class:"green"}," Save ",8,me)]),s("div",he,[n(s("input",{placeholder:"ID","onUpdate:modelValue":i=>o._id=i,readonly:""},null,8,ue),[[d,o._id]]),l(),n(s("input",{placeholder:"email","onUpdate:modelValue":i=>o.email=i},null,8,be),[[d,o.email]]),l(),n(s("input",{placeholder:"password","onUpdate:modelValue":i=>o.password=i,type:"password"},null,8,ce),[[d,o.password]]),s("div",ye,[(g(!0),r(y,null,f(o.permissions,(i,u)=>(g(),r("div",fe,[s("button",{onClick:c=>o.permissions.splice(u,1),style:{display:"inline-block"},disabled:o.permissions.length<=1}," Remove ",8,ve),l(),n(s("input",{placeholder:"permissions","onUpdate:modelValue":c=>o.permissions[u]=c,style:{"margin-right":"5px"}},null,8,we),[[d,o.permissions[u]]]),!o.permissions.length||u===o.permissions.length-1?(g(),r("button",{key:0,onClick:c=>o.permissions.push(""),style:{display:"inline-block"}}," Add ",8,xe)):T("",!0)]))),256))]),l(),n(s("input",{placeholder:"locale","onUpdate:modelValue":i=>o.locale=i},null,8,_e),[[d,o.locale]]),l(),n(s("input",{placeholder:"owner group","onUpdate:modelValue":i=>o.owner_group=i},null,8,ke),[[d,o.owner_group]]),l(),n(s("input",{placeholder:"Updated","onUpdate:modelValue":i=>o.updatedAt=i,readonly:""},null,8,Ue),[[d,o.updatedAt]]),n(s("input",{placeholder:"Created","onUpdate:modelValue":i=>o.createdAt=i,readonly:""},null,8,Ve),[[d,o.createdAt]])])])}),256)),s("div",Ce,[s("button",{onClick:t[11]||(t[11]=o=>(e.page--,a.list())),style:{float:"left","margin-top":"-5px"},class:"dark",disabled:e.page<=1}," Previous page ",8,Ae),s("span",ze," Page "+p(e.page)+" of "+p(Math.ceil(((I=e.response)==null?void 0:I.total)/((S=e.response)==null?void 0:S.limit)))+" ("+p((M=e.response)==null?void 0:M.skip)+" - "+p(((N=e.response)==null?void 0:N.skip)+((D=($=e.response)==null?void 0:$.data)==null?void 0:D.length))+" of "+p((P=e.response)==null?void 0:P.total)+") ",1),s("button",{type:"",onClick:t[12]||(t[12]=o=>(e.page++,a.list())),style:{float:"right","margin-top":"-5px"},class:"dark",disabled:e.page>=Math.ceil(((j=e.response)==null?void 0:j.total)/((B=e.response)==null?void 0:B.limit))}," Next page ",8,Ie)])])])])}const De=F(E,[["render",Se],["__scopeId","data-v-3736975a"]]);export{De as default};
