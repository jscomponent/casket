import{_ as y,o as n,c as a,F as b,r as v,a as o,e as g,d,t as _,n as x,p as $,f as w,w as C,g as z,h as k,i as S,j as N,k as f}from"./index.75c6dda8.js";import"https://cdn.jsdelivr.net/npm/@feathersjs/client@5.0.0-pre.28/+esm";import"https://cdn.jsdelivr.net/npm/socket.io-client@4.5.1/+esm";const B={data:()=>({pages:[{label:"Users",path:"/admin/users"},{label:"Settings",path:"/admin/settings"},{label:"Server",path:"/admin/server"}],types:[]}),computed:{current(){return this.$route.path}},inject:["io"],methods:{async list(){let t=await this.io.service("types/any").find({query:{$limit:100,$sort:{title:"asc"}}});this.types=t.data},async add(){let t=prompt("Slug");t&&(await this.io.service("types/any").create({title:t,slug:t}),this.$emit("list"))}},created(){this.list()},props:{renderkey:{type:Number,default:42}},watch:{renderkey(){console.log("to the edge"),this.list()}}},h=t=>($("data-v-687625eb"),t=t(),w(),t),D={style:{height:"100%",width:"160px","font-family":"Arial, Helvetica, sans-serif",background:"linear-gradient(215deg, rgba(58,66,64,1) 0%, rgba(33,33,33,1) 100%)","background-color":"rgb(58,66,64)"}},I=["onClick"],T={key:0,style:{"background-color":"#edebebff",width:"10px",position:"absolute",right:"0px","clip-path":"polygon(100% 0%, 100% 100%, 0% 50%)",top:"9px",height:"20px"}},V=d(),A=h(()=>o("div",null,null,-1)),L=h(()=>o("hr",null,null,-1)),U=["onClick"],j={key:0,style:{"background-color":"#edebebff",width:"10px",position:"absolute",right:"0px","clip-path":"polygon(100% 0%, 100% 100%, 0% 50%)",top:"9px",height:"20px"}},F=d(),H=h(()=>o("div",null,null,-1)),q=h(()=>o("div",{style:{"background-color":"#edebebff",width:"10px",position:"absolute",right:"0px","clip-path":"polygon(100% 0%, 100% 100%, 0% 50%)",top:"9px",height:"20px"}},null,-1)),E=d(" + Add "),M=[q,E],G=d(),J=h(()=>o("div",null,null,-1));function K(t,i,m,p,c,e){return n(),a("div",D,[(n(!0),a(b,null,v(t.pages,s=>(n(),a("div",null,[o("div",{style:{"box-sizing":"border-box","padding-left":"10px","padding-right":"10px","padding-top":"10px","padding-bottom":"10px","font-size":"15px",position:"relative"},class:x(["menu-button",s.path===e.current?"active":""]),onClick:l=>t.$router.push(s.path)},[s.path===e.current?(n(),a("div",T)):g("",!0),d(" "+_(s.label),1)],10,I),V,A]))),256)),L,(n(!0),a(b,null,v(t.types,s=>(n(),a("div",null,[o("div",{style:{"box-sizing":"border-box","padding-left":"10px","padding-right":"10px","padding-top":"10px","padding-bottom":"10px","font-size":"15px",position:"relative"},class:x(["menu-button","/admin/types/"+s.slug===e.current?"active":""]),onClick:l=>t.$router.push("/admin/types/"+s.slug)},["/admin/types/"+s.slug===e.current?(n(),a("div",j)):g("",!0),d(" "+_(s.title.en),1)],10,U),F,H]))),256)),o("div",null,[o("div",{style:{"box-sizing":"border-box","padding-left":"10px","padding-right":"10px","padding-top":"10px","padding-bottom":"10px","font-size":"15px",position:"relative"},class:"menu-button",onClick:i[0]||(i[0]=s=>e.add())},M),G,J])])}const O=y(B,[["render",K],["__scopeId","data-v-687625eb"]]);const P={data:()=>({domains:[],current:""}),inject:["io","user","userUpdate"],methods:{async logout(){await this.io.logout(),this.userUpdate(null),this.$router.push("/")},async getDomains(){var t,i;this.domains=await this.io.service("types/domains").find().catch(m=>{var p,c,e;this.domains={data:[{match:(e=(c=(p=this.io)==null?void 0:p.io)==null?void 0:c.io)==null?void 0:e.uri}]}}),(i=(t=this.domains)==null?void 0:t.data)!=null&&i.length&&(this.current=this.domains.data[0].match)},open(){window.open("https://"+this.current,"_blank")}},created(){this.getDomains()}},Q=t=>($("data-v-5707afb5"),t=t(),w(),t),R={style:{height:"30px",display:"flex",color:"#e6e6e6ff","font-family":"Arial, Helvetica, sans-serif",background:"linear-gradient(45deg, rgba(58,66,64,1) 0%, rgba(48,52,51,1) 100%)","background-color":"rgb(58,66,64)"}},W={style:{"padding-left":"10px",width:"calc(100% - 350px)","font-weight":"bold","margin-top":"4px"}},X=Q(()=>o("div",{style:{display:"inline-block","margin-top":"1px",color:"#ffffffff"}}," Airportal ",-1)),Y=d(),Z=["value"],tt={style:{flex:"1"}},et=d();function it(t,i,m,p,c,e){var s,l,u;return n(),a("div",R,[o("div",W,[X,Y,C(o("select",{name:"",style:{width:"200px","padding-top":"1px","padding-bottom":"1px","margin-left":"7px","border-top-left-radius":"3px","border-top-right-radius":"3px","border-bottom-left-radius":"3px","border-bottom-right-radius":"3px"},onChange:i[0]||(i[0]=r=>e.open()),"onUpdate:modelValue":i[1]||(i[1]=r=>t.current=r)},[(n(!0),a(b,null,v((s=t.domains)==null?void 0:s.data,r=>(n(),a("option",{value:r.match},_(r.match),9,Z))),256))],544),[[z,t.current]])]),o("div",tt,[o("div",{style:{"text-align":"right","font-size":"14px","padding-top":"7px","padding-bottom":"7px","padding-right":"7px",display:"inline-block",float:"right"},class:"link",onClick:i[2]||(i[2]=(...r)=>e.logout&&e.logout(...r))}," Log out "),et,o("div",{style:{"text-align":"right","font-size":"14px","padding-top":"7px","padding-bottom":"7px","padding-right":"7px",display:"inline-block",float:"right"},onClick:i[3]||(i[3]=r=>t.$router.push("/admin/profile")),class:"link"},_((u=(l=e.user)==null?void 0:l.value)==null?void 0:u.email)+" - ",1)])])}const ot=y(P,[["render",it],["__scopeId","data-v-5707afb5"]]);const st={components:{Navigation:O,TopBar:ot},props:["min"],computed:{minimal(){return this.min||!1},rerender(){return this.renderkey}},data:()=>({renderkey:1}),methods:{refresh(){this.renderkey=this.renderkey+1,this.$emit("list")}},emits:["list"]},nt={style:{height:"100%",width:"100%"}},at=d(),rt={style:{width:"100%",height:"100%",overflow:"auto",position:"relative",flex:"1"}};function dt(t,i,m,p,c,e){const s=f("TopBar"),l=f("Navigation"),u=f("router-view");return n(),a("div",nt,[e.minimal?g("",!0):(n(),k(s,{key:0,style:{width:"100%"}})),o("div",{style:N([{display:"flex"},e.minimal?"height:100%":"height:calc(100% - 30px)"])},[e.minimal?g("",!0):(n(),k(l,{key:0,path:"/admin/services",renderkey:e.minimal?"":t.renderkey,onList:i[0]||(i[0]=r=>e.refresh())},null,8,["renderkey"])),at,o("div",rt,[S(u,{style:{width:"100%",height:"100%",overflow:"auto","background-color":"#edebebff",position:"absolute"},min:!0,onList:i[1]||(i[1]=r=>e.refresh())})])],4)])}const ht=y(st,[["render",dt]]);export{ht as default};
