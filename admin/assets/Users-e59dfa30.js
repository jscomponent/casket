import{_ as T,c as r,a as t,t as p,b as l,w as n,v as a,F as y,r as f,d as F,o as g,e as R,p as K,f as O}from"./index-7473f6d8.js";const q={inject:["io","user"],methods:{async create(e){await this.io.service("users").create(e),this.clear(),this.list()},async list(){let e=await this.io.service("users").find({query:{email:{$search:this.search},$limit:this.limit,$skip:(this.page-1)*this.limit,$sort:{createdAt:-1}}});this.response=e},async save(e){let s=Object.assign({},e);if(s.password||delete s.password,s.password&&s.password.length<6){alert("Too short password!");return}let v=await this.io.service("users").patch(s._id,s);Object.assign(e,v)},async remove(e){await this.io.service("users").remove(e._id),this.list()},clear(){this.email="",this.owner_group="",this.password="",this.locale="",this.permissions=["user"]}},created(){this.list()},computed:{users(){var e;return((e=this.response)==null?void 0:e.data)||[]}},data:()=>({email:"",owner_group:"",password:"",locale:"",owner_group:"",permissions:["user"],response:null,search:"",limit:25,page:1})},b=e=>(K("data-v-bb26408d"),e=e(),O(),e),E={style:{display:"flex",height:"100%","font-family":"Arial, Helvetica, sans-serif"}},H={style:{width:"100%","flex-grow":"1",flex:"1",height:"100%",overflow:"auto","background-color":"#edebebff"},class:"editor"},L=b(()=>t("div",{style:{"margin-left":"20px","margin-right":"20px","margin-top":"20px","margin-bottom":"20px"}},[t("h2",{style:{color:"#2b2b2bff","font-weight":"100","font-size":"35px"}}," Users ")],-1)),G={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"15px","padding-bottom":"15px","margin-left":"20px","margin-right":"20px","background-color":"#86a0b3ff",position:"relative","text-align":"center","margin-top":"10px","border-top-left-radius":"3px","border-top-right-radius":"3px"}},J=["disabled"],Q={style:{color:"#38454dff"}},W=["disabled"],X={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","border-bottom-left-radius":"3px","border-bottom-right-radius":"3px","background-color":"#86a0b3ff","margin-bottom":"10px"},class:"row"},Y={style:{display:"inline-block"}},Z=b(()=>t("input",{placeholder:"ID",readonly:"readonly"},null,-1)),ee={style:{display:"inline-block"}},oe={style:{"margin-right":"6px","margin-left":"5px"}},te=["onClick","disabled"],se=["onUpdate:modelValue"],ie=b(()=>t("input",{placeholder:"Updated",readonly:"readonly"},null,-1)),le=b(()=>t("input",{placeholder:"Created",readonly:"readonly"},null,-1)),ne={style:{display:"inline-block",float:"right"}},ae={style:{"box-sizing":"border-box","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","background-color":"#87acccff","border-top-left-radius":"3px","border-top-right-radius":"3px"},class:"row"},de={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","margin-top":"0px","margin-bottom":"0px",position:"relative"},class:"row"},pe={style:{display:"inline-block",float:"right"}},re=["onClick","disabled"],ge=["onClick"],me={style:{display:"inline-block"}},he=["onUpdate:modelValue"],ue=["onUpdate:modelValue"],be=["onUpdate:modelValue"],ce={style:{display:"inline-block"}},ye={style:{"margin-right":"6px","margin-left":"5px"}},fe=["onClick","disabled"],ve=["onUpdate:modelValue"],we=["onClick"],xe=["onUpdate:modelValue"],ke=["onUpdate:modelValue"],_e=["onUpdate:modelValue"],Ue=["onUpdate:modelValue"],Ve={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","margin-top":"10px","margin-bottom":"20px","border-top-left-radius":"3px","border-top-right-radius":"3px","border-bottom-left-radius":"3px","border-bottom-right-radius":"3px","background-color":"#86a0b3ff",position:"relative","text-align":"center"}},Ce=["disabled"],Ae={style:{color:"#38454dff"}},ze=["disabled"];function Ie(e,s,v,Se,$e,d){var w,x,k,_,U,V,C,A,z,I,S,$,M,N,D,P,j,B;return g(),r("div",E,[t("div",H,[L,t("div",null,[t("div",G,[t("button",{type:"",onClick:s[0]||(s[0]=o=>(e.page--,d.list())),style:{float:"left","margin-top":"-5px"},class:"dark",disabled:e.page<=1}," Previous page ",8,J),t("span",Q," Page "+p(e.page)+" of "+p(Math.ceil(((w=e.response)==null?void 0:w.total)/((x=e.response)==null?void 0:x.limit)))+" ("+p((k=e.response)==null?void 0:k.skip)+" - "+p(((_=e.response)==null?void 0:_.skip)+((V=(U=e.response)==null?void 0:U.data)==null?void 0:V.length))+" of "+p((C=e.response)==null?void 0:C.total)+") ",1),t("button",{type:"",onClick:s[1]||(s[1]=o=>(e.page++,d.list())),style:{float:"right","margin-top":"-5px"},class:"dark",disabled:e.page>=Math.ceil(((A=e.response)==null?void 0:A.total)/((z=e.response)==null?void 0:z.limit))}," Next page ",8,W)]),t("div",X,[t("div",Y,[Z,l(),n(t("input",{placeholder:"email","onUpdate:modelValue":s[2]||(s[2]=o=>e.email=o)},null,512),[[a,e.email]]),l(),n(t("input",{placeholder:"password","onUpdate:modelValue":s[3]||(s[3]=o=>e.password=o),type:"password"},null,512),[[a,e.password]]),t("div",ee,[(g(!0),r(y,null,f(e.permissions,(o,m)=>(g(),r("div",oe,[t("button",{onClick:h=>e.permissions.splice(m,1),style:{display:"inline-block"},disabled:e.permissions.length<=1}," Remove ",8,te),l(),n(t("input",{placeholder:"permissions","onUpdate:modelValue":h=>e.permissions[m]=h,style:{"margin-right":"5px"}},null,8,se),[[a,e.permissions[m]]]),!e.permissions.length||m===e.permissions.length-1?(g(),r("button",{key:0,onClick:s[4]||(s[4]=h=>e.permissions.push("")),style:{display:"inline-block"}}," Add ")):R("",!0)]))),256))]),l(),n(t("input",{placeholder:"locale","onUpdate:modelValue":s[5]||(s[5]=o=>e.locale=o)},null,512),[[a,e.locale]]),l(),n(t("input",{placeholder:"owner group","onUpdate:modelValue":s[6]||(s[6]=o=>e.owner_group=o)},null,512),[[a,e.owner_group]]),l(),ie,l(),le]),t("div",ne,[t("button",{onClick:s[7]||(s[7]=o=>d.create({email:e.email,password:e.password,locale:e.locale,permissions:e.permissions,owner_group:e.owner_group}))}," Create ")])]),t("div",ae,[n(t("input",{style:{"margin-right":"5px",width:"calc(100% - 110px)","padding-top":"15px","padding-bottom":"15px"},"onUpdate:modelValue":s[8]||(s[8]=o=>e.search=o),placeholder:"search...",onKeydown:s[9]||(s[9]=F((...o)=>d.list&&d.list(...o),["enter"]))},null,544),[[a,e.search]]),l(),t("button",{onClick:s[10]||(s[10]=(...o)=>d.list&&d.list(...o)),class:"dark",style:{"padding-top":"15px","padding-bottom":"15px",width:"100px"}}," Search ")]),(g(!0),r(y,null,f(d.users,o=>{var m,h;return g(),r("div",de,[t("div",pe,[t("button",{onClick:i=>d.remove(o),class:"red",style:{"margin-right":"2px"},disabled:((h=(m=d.user)==null?void 0:m.value)==null?void 0:h._id)===(o==null?void 0:o._id)}," Remove ",8,re),l(),t("button",{onClick:i=>d.save(o),class:"green"}," Save ",8,ge)]),t("div",me,[n(t("input",{placeholder:"ID","onUpdate:modelValue":i=>o._id=i,readonly:""},null,8,he),[[a,o._id]]),l(),n(t("input",{placeholder:"email","onUpdate:modelValue":i=>o.email=i},null,8,ue),[[a,o.email]]),l(),n(t("input",{placeholder:"password","onUpdate:modelValue":i=>o.password=i,type:"password"},null,8,be),[[a,o.password]]),t("div",ce,[(g(!0),r(y,null,f(o.permissions,(i,u)=>(g(),r("div",ye,[t("button",{onClick:c=>o.permissions.splice(u,1),style:{display:"inline-block"},disabled:o.permissions.length<=1}," Remove ",8,fe),l(),n(t("input",{placeholder:"permissions","onUpdate:modelValue":c=>o.permissions[u]=c,style:{"margin-right":"5px"}},null,8,ve),[[a,o.permissions[u]]]),!o.permissions.length||u===o.permissions.length-1?(g(),r("button",{key:0,onClick:c=>o.permissions.push(""),style:{display:"inline-block"}}," Add ",8,we)):R("",!0)]))),256))]),l(),n(t("input",{placeholder:"locale","onUpdate:modelValue":i=>o.locale=i},null,8,xe),[[a,o.locale]]),l(),n(t("input",{placeholder:"owner group","onUpdate:modelValue":i=>o.owner_group=i},null,8,ke),[[a,o.owner_group]]),l(),n(t("input",{placeholder:"Updated","onUpdate:modelValue":i=>o.updatedAt=i,readonly:""},null,8,_e),[[a,o.updatedAt]]),n(t("input",{placeholder:"Created","onUpdate:modelValue":i=>o.createdAt=i,readonly:""},null,8,Ue),[[a,o.createdAt]])])])}),256)),t("div",Ve,[t("button",{onClick:s[11]||(s[11]=o=>(e.page--,d.list())),style:{float:"left","margin-top":"-5px"},class:"dark",disabled:e.page<=1}," Previous page ",8,Ce),t("span",Ae," Page "+p(e.page)+" of "+p(Math.ceil(((I=e.response)==null?void 0:I.total)/((S=e.response)==null?void 0:S.limit)))+" ("+p(($=e.response)==null?void 0:$.skip)+" - "+p(((M=e.response)==null?void 0:M.skip)+((D=(N=e.response)==null?void 0:N.data)==null?void 0:D.length))+" of "+p((P=e.response)==null?void 0:P.total)+") ",1),t("button",{type:"",onClick:s[12]||(s[12]=o=>(e.page++,d.list())),style:{float:"right","margin-top":"-5px"},class:"dark",disabled:e.page>=Math.ceil(((j=e.response)==null?void 0:j.total)/((B=e.response)==null?void 0:B.limit))}," Next page ",8,ze)])])])])}const Ne=T(q,[["render",Ie],["__scopeId","data-v-bb26408d"]]);export{Ne as default};
