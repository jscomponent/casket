import{_ as p,c as a,a as e,b as c,F as u,r as h,w as n,v as s,o as r,t as f}from"./index-89977d4c.js";const b={inject:["io","user"],methods:{save(t,o){this.io.service("settings").patch(t,{value:o}).then(d=>{this.get()}).catch(d=>{this.get()})},get(){this.settings.forEach(t=>{this.io.service("settings").get(t.key).then(o=>{t.value=o})})},encode(){this.googleJSONkeyEncoded=window.btoa(this.googleJSONkey)}},created(){this.get()},computed:{users(){var t;return((t=this.response)==null?void 0:t.data)||[]}},data:()=>({googleJSONkey:"",googleJSONkeyEncoded:"",settings:[{key:"lang",value:"",label:"Languages"},{key:"google-secret",value:"",label:"Google Secret"},{key:"google-folder",value:"",label:"Google Folder"},{key:"backup-interval",value:"",label:"Backup interval"}]})},y={style:{display:"flex",height:"100%","font-family":"Arial, Helvetica, sans-serif"}},v={style:{width:"100%","flex-grow":"1",flex:"1",height:"100%",overflow:"auto","background-color":"#edebebff"}},x={style:{"margin-left":"20px","margin-right":"20px","margin-top":"20px","margin-bottom":"60px"}},m=e("h2",{style:{color:"#2b2b2bff"}}," Settings ",-1),_={style:{"box-sizing":"border-box",width:"calc(100% - 40px)","padding-left":"20px","padding-right":"20px","padding-top":"20px","padding-bottom":"20px","margin-left":"20px","margin-right":"20px","margin-top":"20px","margin-bottom":"20px","border-top-left-radius":"3px","border-top-right-radius":"3px","border-bottom-left-radius":"3px","border-bottom-right-radius":"3px","background-color":"#4e7699ff",position:"relative"}},k={style:{display:"inline-block"}},S={style:{color:"#ffffffff"}},w={style:{float:"right",display:"inline-block"}},N=["onClick"],O=["onUpdate:modelValue"],J={style:{width:"100%","box-sizing":"border-box","padding-left":"20px","padding-right":"20px","padding-bottom":"20px","padding-top":"20px"}},E=e("h3",null," Enable Google Drive Auto Backup ",-1),C=e("ul",null,[e("li",null,[e("a",{href:"https://developers.google.com/workspace/guides/create-project",target:"_blank"}," Create a project and enable the API ")]),e("li",null," Enable Google Drive API "),e("li",null," Create Service account credential "),e("li",null," Open service account and create new Key in JSON format "),e("li",null," Encode using this tool ")],-1),G=e("ul",null,[e("li",null," Store as google secret "),e("li",null," Find a folder in google drive and share it with service account user "),e("li",null," Copy that folder id and paste it in here ")],-1);function V(t,o,d,B,A,i){return r(),a("div",y,[e("div",v,[e("div",x,[m,e("button",{type:"",style:{float:"right"},onClick:o[0]||(o[0]=l=>i.get())}," Refresh ")]),c(),(r(!0),a(u,null,h(t.settings,l=>(r(),a("div",_,[e("div",k,[e("span",S,f(l.label),1)]),e("div",w,[e("button",{type:"",style:{"margin-right":"10px",float:"right"},onClick:g=>i.save(l.key,l.value)}," Save ",8,N),n(e("input",{placeholder:"password",style:{"margin-right":"5px",float:"right"},"onUpdate:modelValue":g=>l.value=g},null,8,O),[[s,l.value]])])]))),256)),e("div",J,[E,C,n(e("textarea",{placeholder:"Google JSON key","onUpdate:modelValue":o[1]||(o[1]=l=>t.googleJSONkey=l),style:{width:"50%","margin-bottom":"20px"}},null,512),[[s,t.googleJSONkey]]),n(e("textarea",{placeholder:"Google JSON key encoded","onUpdate:modelValue":o[2]||(o[2]=l=>t.googleJSONkeyEncoded=l),style:{width:"50%","margin-bottom":"20px"}},null,512),[[s,t.googleJSONkeyEncoded]]),e("button",{type:"",onClick:o[3]||(o[3]=(...l)=>i.encode&&i.encode(...l))}," Encode "),G])])])}const F=p(b,[["render",V]]);export{F as default};
